schema: '2.0'
stages:
  data_ingestion:
    cmd:
    - python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 27bd6b620b633fd5b8949e54f003baba
      size: 4124
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: b855e2bab4e21078d44844fee5be9da3.dir
      size: 6882906
      nfiles: 2
  data_preprocessing:
    cmd:
    - python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 295b88d81555e67a857db0337244e118
      size: 1341252
    - path: data/raw/train.csv
      hash: md5
      md5: 70faef66e6135c49f7f02db4a55e9fdd
      size: 5541654
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: cfd9b02675f7287a90f683b58d31634f
      size: 3623
    outs:
    - path: data/preprocessed
      hash: md5
      md5: e5f897f344f785a917fe209d6785efbb.dir
      size: 5098543
      nfiles: 2
  model_building:
    cmd:
    - python src/model/model_building.py
    deps:
    - path: data/preprocessed/train_preprocessed.csv
      hash: md5
      md5: 92f5e69f829485e599ca4cde46805891
      size: 4105289
    - path: src/model/model_building.py
      hash: md5
      md5: c55939e30f4c7b56c75c20350cf64ec5
      size: 5581
    params:
      params.yaml:
        model_building.learning_rate: 0.09
        model_building.max_depth: 20
        model_building.max_features: 1000
        model_building.n_estimators: 367
        model_building.ngram_range:
        - 1
        - 3
    outs:
    - path: model
      hash: md5
      md5: d2a58db432842cd1654451009c9b73e7.dir
      size: 3886835
      nfiles: 1
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 20cf9b657b15ad85aeadf192a4679398
      size: 36873
  model_evaluation:
    cmd:
    - python src/model/model_evaluation.py
    deps:
    - path: data/preprocessed/test_preprocessed.csv
      hash: md5
      md5: 35969a28bbb2631ecb66aad07fba87c4
      size: 993254
    - path: model/model.pkl
      hash: md5
      md5: 3bfe5e5a1f8d8001e244152b552879f2
      size: 3886835
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 0567486973f22157be054aa475cc06a8
      size: 7468
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: 20cf9b657b15ad85aeadf192a4679398
      size: 36873
    outs:
    - path: experiment_info.json
      hash: md5
      md5: 974b9d374436f7b8312bd00f1da9b8ed
      size: 84
  model_registration:
    cmd:
    - python src/model/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: 974b9d374436f7b8312bd00f1da9b8ed
      size: 84
    - path: src/model/register_model.py
      hash: md5
      md5: 1271615e0e5f32bac8c9b5855e93ce0a
      size: 2406
